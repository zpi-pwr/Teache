{"ast":null,"code":"import _defineProperty from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/LandingPage.js\";\nimport React, { Component } from \"react\";\nimport Register from \"./Register\";\nimport { Redirect } from \"react-router-dom\";\nimport { userService } from \"../service/userService\";\nimport { connect } from \"react-redux\";\nimport '../styles/LandingPage.scss';\nvar element = {\n  color: '#543F44',\n  fontsize: 5\n};\n\nvar LandingPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LandingPage, _Component);\n\n  function LandingPage(props) {\n    var _this;\n\n    _classCallCheck(this, LandingPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LandingPage).call(this, props));\n\n    _this.handleInput = function (event) {\n      switch (event.target.id) {\n        case 'register-btn':\n          console.log(\"register-btn clicked!'\");\n\n          _this.setState(function (prevState) {\n            return {\n              registerOpen: !prevState.registerOpen\n            };\n          });\n\n          break;\n\n        default:\n          console.log(\"Click uncaught from \" + event.target);\n      }\n    };\n\n    _this.formHandler = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      console.log(event.target.value);\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.register = function () {\n      if (_this.state.name && _this.validateEmail(_this.state.email) && _this.state.password === _this.state.passwordCheck) {\n        var registerBody = {\n          name: _this.state.name,\n          email: _this.state.email,\n          password: _this.state.password\n        };\n        var dispatch = _this.props.dispatch;\n        dispatch(userService.register(registerBody));\n\n        _this.setState({\n          redirectToLogin: true\n        });\n      }\n    };\n\n    _this.state = {\n      registerOpen: true,\n      name: 'my name',\n      email: 'emil',\n      password: 'passwd',\n      passwordCheck: '1234',\n      redirectToLogin: false\n    };\n    return _this;\n  }\n\n  _createClass(LandingPage, [{\n    key: \"validateEmail\",\n    value: function validateEmail(email) {\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(String(email).toLowerCase());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.redirectToLogin) return React.createElement(Redirect, {\n        to: {\n          pathname: '/login'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        class: \"cont\",\n        style: {\n          overflow: 'hidden'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center\",\n        style: {\n          position: \"absolute\",\n          top: \"20%\",\n          left: '50%',\n          transform: 'translate(-50%, -50%)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: element,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Find your master\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"register-btn\",\n        onClick: function onClick(event) {\n          return _this2.handleInput(event);\n        },\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"JOIN US\")), React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: \"60%\",\n          left: '50%',\n          transform: 'translate(-50%, -50%)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, this.state.registerOpen ? React.createElement(Register, {\n        nameVal: this.state.name,\n        emailVal: this.state.email,\n        passwordVal: this.state.password,\n        passwordCheckVal: this.state.passwordCheck,\n        handleInput: this.formHandler,\n        register: this.register,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }) : null));\n    }\n  }]);\n\n  return LandingPage;\n}(Component);\n\nexport default LandingPage = connect()(LandingPage);","map":{"version":3,"sources":["/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/LandingPage.js"],"names":["React","Component","Register","Redirect","userService","connect","element","color","fontsize","LandingPage","props","handleInput","event","target","id","console","log","setState","prevState","registerOpen","formHandler","name","value","register","state","validateEmail","email","password","passwordCheck","registerBody","dispatch","redirectToLogin","re","test","String","toLowerCase","pathname","overflow","position","top","left","transform"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport Register from \"./Register\";\nimport {Redirect} from \"react-router-dom\";\nimport { userService } from \"../service/userService\";\nimport {connect} from \"react-redux\";\nimport '../styles/LandingPage.scss'\n\nconst element = {color: '#543F44', fontsize: 5}\n\nclass LandingPage extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            registerOpen: true,\n            name: 'my name',\n            email: 'emil',\n            password: 'passwd',\n            passwordCheck: '1234',\n            redirectToLogin: false\n        }\n    }\n\n    handleInput = (event) => {\n        switch (event.target.id) {\n            case 'register-btn':\n                console.log(\"register-btn clicked!'\");\n                this.setState(prevState => {\n                    return {\n                        registerOpen: !prevState.registerOpen\n                    }\n                });\n                break;\n            default:\n                console.log(\"Click uncaught from \" + event.target)\n        }\n    };\n\n    formHandler = (event) => {\n        const {name, value} = event.target;\n        console.log(event.target.value);\n        this.setState({\n                [name]: value\n            }\n        );\n\n    };\n\n    register = () => {\n        if(this.state.name && this.validateEmail(this.state.email) && this.state.password === this.state.passwordCheck){\n            const registerBody = {\n                name: this.state.name,\n                email: this.state.email,\n                password: this.state.password,\n            };\n            \n            const { dispatch } = this.props;\n\n            dispatch(userService.register(registerBody));\n            this.setState({ redirectToLogin: true })\n        }\n    };\n\n    validateEmail(email) {\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(String(email).toLowerCase());\n    }\n\n    render() {\n        if(this.state.redirectToLogin)\n            return <Redirect to={{pathname: '/login'}} />\n\n        return (\n            <div class=\"cont\"\n                  style={{overflow: 'hidden'}}>\n                {/*<img height='920px' src={landingPic} alt=\"book on the desk\"/>*/}\n                <div className=\"text-center\"\n                     style={{\n                         position: \"absolute\",\n                         top: \"20%\",\n                         left: '50%',\n                         transform: 'translate(-50%, -50%)'\n                     }}>\n                    <h1 style={element}>Find your master</h1>\n                    <br></br>\n                    <button\n                        id='register-btn'\n                        onClick={(event) => this.handleInput(event)}\n                        className=\"btn btn-success\">\n                        JOIN US\n                    </button>\n                </div>\n                <div\n                    style={{\n                        position: \"absolute\",\n                        top: \"60%\",\n                        left: '50%',\n                        transform: 'translate(-50%, -50%)',\n                    }}>\n                    {this.state.registerOpen ?\n                        <Register\n                            nameVal={this.state.name}\n                            emailVal={this.state.email}\n                            passwordVal={this.state.password}\n                            passwordCheckVal={this.state.passwordCheck}\n                            handleInput={this.formHandler}\n                            register={this.register}\n                        />\n                        : null}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default LandingPage = connect()(LandingPage);\n\n"]},"metadata":{},"sourceType":"module"}