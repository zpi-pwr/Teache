{"ast":null,"code":"import _classCallCheck from \"/home/przemek/Data/Programowanie/PWr/ZPI/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/przemek/Data/Programowanie/PWr/ZPI/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/przemek/Data/Programowanie/PWr/ZPI/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/przemek/Data/Programowanie/PWr/ZPI/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/przemek/Data/Programowanie/PWr/ZPI/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/przemek/Data/Programowanie/PWr/ZPI/frontend/src/components/TeacheCoin.js\";\nimport React, { Component } from \"react\";\nimport TeacheCoin from \"../tokens/TeacheCoin\";\nimport Web3 from \"web3\";\n\nvar AccountBalanceComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AccountBalanceComponent, _Component);\n\n  function AccountBalanceComponent() {\n    var _this;\n\n    _classCallCheck(this, AccountBalanceComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AccountBalanceComponent).call(this));\n    _this.isWeb3 = true;\n    _this.isWeb3Locked = false;\n    _this.state = {\n      balance: 0\n    };\n\n    _this.checkWeb3();\n\n    return _this;\n  }\n\n  _createClass(AccountBalanceComponent, [{\n    key: \"checkWeb3\",\n    value: function checkWeb3() {\n      var web3 = window.web3;\n\n      if (typeof web3 !== 'undefined') {\n        this.web3Provider = web3.currentProvider; //this.web3 = new Web3(web3.currentProvider);\n\n        this.token = web3.eth.contract(TeacheCoin.abi).at(TeacheCoin.address);\n        console.log(this.token);\n\n        if (web3.eth.coinbase === null) {\n          this.isWeb3Locked = true;\n        }\n      } else {\n        this.isWeb3 = false;\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var account = this.web3.eth.coinbase;\n      console.log(this.token); // this.toke\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.isWeb3) {\n        return null;\n      }\n\n      if (this.isWeb3Locked) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"ACCOUNT BLOCKED\");\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Balance: \", this.state.balance);\n    }\n  }]);\n\n  return AccountBalanceComponent;\n}(Component);\n\nvar TokenTransferComponent =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(TokenTransferComponent, _Component2);\n\n  function TokenTransferComponent() {\n    _classCallCheck(this, TokenTransferComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TokenTransferComponent).apply(this, arguments));\n  }\n\n  return TokenTransferComponent;\n}(Component);\n\nexport default AccountBalanceComponent;","map":{"version":3,"sources":["/home/przemek/Data/Programowanie/PWr/ZPI/frontend/src/components/TeacheCoin.js"],"names":["React","Component","TeacheCoin","Web3","AccountBalanceComponent","isWeb3","isWeb3Locked","state","balance","checkWeb3","web3","window","web3Provider","currentProvider","token","eth","contract","abi","at","address","console","log","coinbase","account","TokenTransferComponent"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AAEA,OAAOC,IAAP,MAAiB,MAAjB;;IAEMC,uB;;;;;AACF,qCAAc;AAAA;;AAAA;;AACV;AAEA,UAAKC,MAAL,GAAc,IAAd;AACA,UAAKC,YAAL,GAAoB,KAApB;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb;;AAIA,UAAKC,SAAL;;AAVU;AAWb;;;;gCAEW;AACR,UAAIC,IAAI,GAAGC,MAAM,CAACD,IAAlB;;AAEA,UAAI,OAAOA,IAAP,KAAgB,WAApB,EAAiC;AAC7B,aAAKE,YAAL,GAAoBF,IAAI,CAACG,eAAzB,CAD6B,CAE7B;;AAEA,aAAKC,KAAL,GAAaJ,IAAI,CAACK,GAAL,CAASC,QAAT,CAAkBd,UAAU,CAACe,GAA7B,EAAkCC,EAAlC,CAAqChB,UAAU,CAACiB,OAAhD,CAAb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;;AACA,YAAIJ,IAAI,CAACK,GAAL,CAASO,QAAT,KAAsB,IAA1B,EAAgC;AAC5B,eAAKhB,YAAL,GAAoB,IAApB;AACH;AACJ,OATD,MASO;AACH,aAAKD,MAAL,GAAc,KAAd;AACH;AACJ;;;wCAEmB;AAChB,UAAIkB,OAAO,GAAG,KAAKb,IAAL,CAAUK,GAAV,CAAcO,QAA5B;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB,EAFgB,CAGhB;AACH;;;6BAEQ;AACL,UAAG,CAAC,KAAKT,MAAT,EAAiB;AACb,eAAO,IAAP;AACH;;AAED,UAAG,KAAKC,YAAR,EAAsB;AAClB,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ;AAGH;;AAED,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAe,KAAKC,KAAL,CAAWC,OAA1B,CADJ;AAGH;;;;EAnDiCP,S;;IAsDhCuB,sB;;;;;;;;;;;;EAA+BvB,S;;AAKrC,eAAeG,uBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport TeacheCoin from \"../tokens/TeacheCoin\"\n\nimport Web3 from \"web3\";\n\nclass AccountBalanceComponent extends Component {\n    constructor() {\n        super()\n\n        this.isWeb3 = true;\n        this.isWeb3Locked = false;\n\n        this.state = {\n            balance: 0\n        }\n\n        this.checkWeb3()\n    }\n\n    checkWeb3() {\n        let web3 = window.web3;\n\n        if (typeof web3 !== 'undefined') {\n            this.web3Provider = web3.currentProvider;\n            //this.web3 = new Web3(web3.currentProvider);\n\n            this.token = web3.eth.contract(TeacheCoin.abi).at(TeacheCoin.address)\n            console.log(this.token)\n            if (web3.eth.coinbase === null) {\n                this.isWeb3Locked = true;\n            }\n        } else {\n            this.isWeb3 = false;\n        }\n    }\n\n    componentDidMount() {\n        let account = this.web3.eth.coinbase\n        console.log(this.token)\n        // this.toke\n    }\n\n    render() {\n        if(!this.isWeb3) {\n            return null;\n        }\n\n        if(this.isWeb3Locked) {\n            return (\n                <div>ACCOUNT BLOCKED</div>\n            )\n        }\n\n        return (\n            <div>Balance: {this.state.balance}</div>\n        )\n    }\n}\n\nclass TokenTransferComponent extends Component {\n\n}\n\n\nexport default AccountBalanceComponent;"]},"metadata":{},"sourceType":"module"}