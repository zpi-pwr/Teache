{"ast":null,"code":"import _classCallCheck from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/LoginPage.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { TOKEN_SPRING } from \"../constraints\";\nimport { userService } from \"../service/userService\";\nimport { connect } from \"react-redux\";\nimport NavLink from \"react-bootstrap/NavLink\";\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginPage, _Component);\n\n  function LoginPage(props, context) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props, context));\n\n    _this.login = function () {\n      var dispatch = _this.props.dispatch;\n      dispatch(userService.login(_this.state.userInfo.email, _this.state.userInfo.password));\n\n      _this.setState({\n        redirectToReferer: true\n      });\n\n      console.log(\"Logged in!\");\n    };\n\n    _this.handleInput = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      if (name === 'email') {\n        _this.setState(function (prevState) {\n          prevState.userInfo.email = value;\n          return prevState;\n        });\n      } else if (name === 'password') {\n        _this.setState(function (prevState) {\n          prevState.userInfo.password = value;\n          return prevState;\n        });\n      }\n    };\n\n    _this.state = {\n      redirectToReferer: false,\n      userInfo: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.state.redirectToReferer ? React.createElement(Redirect, {\n        to: {\n          pathname: '/index'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: '50%',\n          transform: 'translate(-50%, -50%)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card bg-light\",\n        style: {\n          width: '400px',\n          opacity: '0.92'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"article\", {\n        className: \"card-body mx-auto\",\n        style: {\n          maxwidth: '400px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"card-title mt-3 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Log In!\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fa fa-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), \" \")), React.createElement(\"input\", {\n        name: \"email\",\n        id: \"email\",\n        className: \"form-control\",\n        placeholder: \"E-mail\",\n        type: \"email\",\n        onChange: function onChange(event) {\n          return _this2.handleInput(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fa fa-envelope\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), \" \")), React.createElement(\"input\", {\n        name: \"password\",\n        id: \"password\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        type: \"password\",\n        onChange: function onChange(event) {\n          return _this2.handleInput(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.login();\n        },\n        type: \"button\",\n        className: \"btn btn-primary btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Log in\")))))));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nexport default LoginPage = connect()(LoginPage);","map":{"version":3,"sources":["/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/LoginPage.js"],"names":["React","Component","Redirect","TOKEN_SPRING","userService","connect","NavLink","LoginPage","props","context","login","dispatch","state","userInfo","email","password","setState","redirectToReferer","console","log","handleInput","event","target","name","value","prevState","pathname","position","top","left","transform","width","opacity","maxwidth"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,YAAR,QAA2B,gBAA3B;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,yBAApB;;IAEMC,S;;;;;AAEF,qBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AACxB,mFAAMD,KAAN,EAAaC,OAAb;;AADwB,UAW5BC,KAX4B,GAWpB,YAAM;AAAA,UACHC,QADG,GACU,MAAKH,KADf,CACHG,QADG;AAEVA,MAAAA,QAAQ,CAACP,WAAW,CAACM,KAAZ,CAAkB,MAAKE,KAAL,CAAWC,QAAX,CAAoBC,KAAtC,EAA6C,MAAKF,KAAL,CAAWC,QAAX,CAAoBE,QAAjE,CAAD,CAAR;;AACA,YAAKC,QAAL,CAAc;AAACC,QAAAA,iBAAiB,EAAE;AAApB,OAAd;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,KAhB2B;;AAAA,UAkB5BC,WAlB4B,GAkBd,UAACC,KAAD,EAAW;AAAA,0BAECA,KAAK,CAACC,MAFP;AAAA,UAEdC,IAFc,iBAEdA,IAFc;AAAA,UAERC,KAFQ,iBAERA,KAFQ;;AAGrB,UAAID,IAAI,KAAK,OAAb,EAAqB;AACjB,cAAKP,QAAL,CAAc,UAAAS,SAAS,EAAI;AACvBA,UAAAA,SAAS,CAACZ,QAAV,CAAmBC,KAAnB,GAA2BU,KAA3B;AACJ,iBAAOC,SAAP;AACC,SAHD;AAIH,OALD,MAKO,IAAIF,IAAI,KAAK,UAAb,EAAwB;AAC3B,cAAKP,QAAL,CAAc,UAAAS,SAAS,EAAI;AACvBA,UAAAA,SAAS,CAACZ,QAAV,CAAmBE,QAAnB,GAA8BS,KAA9B;AACA,iBAAOC,SAAP;AACH,SAHD;AAIH;AACJ,KAhC2B;;AAExB,UAAKb,KAAL,GAAa;AACTK,MAAAA,iBAAiB,EAAE,KADV;AAETJ,MAAAA,QAAQ,EAAE;AACNC,QAAAA,KAAK,EAAE,EADD;AAENC,QAAAA,QAAQ,EAAE;AAFJ;AAFD,KAAb;AAFwB;AAS3B;;;;6BAyBQ;AAAA;;AAEL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKH,KAAL,CAAWK,iBAAX,GAA8B,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAACS,UAAAA,QAAQ,EAAE;AAAX,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9B,GAAsE,IAD3E,EAGI;AACI,QAAA,KAAK,EAAE;AACHC,UAAAA,QAAQ,EAAE,UADP;AAEHC,UAAAA,GAAG,EAAE,KAFF;AAGHC,UAAAA,IAAI,EAAE,KAHH;AAIHC,UAAAA,SAAS,EAAE;AAJR,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOI;AAAK,QAAA,SAAS,EAAC,eAAf;AAA+B,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAE,OAAR;AAAiBC,UAAAA,OAAO,EAAE;AAA1B,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAS,QAAA,SAAS,EAAC,mBAAnB;AAAuC,QAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAAE;AAAX,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAoC;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC,MADJ,CADJ,EAII;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,EAAE,EAAC,OAFP;AAGI,QAAA,SAAS,EAAC,cAHd;AAII,QAAA,WAAW,EAAC,QAJhB;AAKI,QAAA,IAAI,EAAC,OALT;AAMI,QAAA,QAAQ,EAAE,kBAACZ,KAAD;AAAA,iBAAW,MAAI,CAACD,WAAL,CAAiBC,KAAjB,CAAX;AAAA,SANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,EAaI;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAoC;AAAG,QAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC,MADJ,CADJ,EAII;AACI,QAAA,IAAI,EAAC,UADT;AAEI,QAAA,EAAE,EAAC,UAFP;AAGI,QAAA,SAAS,EAAC,cAHd;AAII,QAAA,WAAW,EAAC,UAJhB;AAKI,QAAA,IAAI,EAAC,UALT;AAMI,QAAA,QAAQ,EAAE,kBAACA,KAAD;AAAA,iBAAW,MAAI,CAACD,WAAL,CAAiBC,KAAjB,CAAX;AAAA,SANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CAbJ,EAyBI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACX,KAAL,EAAN;AAAA,SAAjB;AAAqC,QAAA,IAAI,EAAC,QAA1C;AAAmD,QAAA,SAAS,EAAC,2BAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CAzBJ,CAFJ,CADJ,CAPJ,CAHJ,CADJ;AAgDH;;;;EAtFmBT,S;;AA2FxB,eAAeM,SAAS,GAAGF,OAAO,GAAGE,SAAH,CAAlC","sourcesContent":["import React, {Component} from \"react\"\nimport {Redirect} from \"react-router-dom\";\nimport {TOKEN_SPRING} from \"../constraints\";\nimport {userService} from \"../service/userService\";\nimport {connect} from \"react-redux\";\nimport NavLink from \"react-bootstrap/NavLink\";\n\nclass LoginPage extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            redirectToReferer: false,\n            userInfo: {\n                email: \"\",\n                password: \"\",\n            }\n        }\n    }\n\n    login = () => {\n        const {dispatch } = this.props;\n        dispatch(userService.login(this.state.userInfo.email, this.state.userInfo.password));\n        this.setState({redirectToReferer: true});\n        console.log(\"Logged in!\");\n    };\n\n    handleInput = (event) => {\n\n        const {name, value} = event.target;\n        if (name === 'email'){\n            this.setState(prevState => {\n                prevState.userInfo.email = value;\n            return prevState\n            });\n        } else if (name === 'password'){\n            this.setState(prevState => {\n                prevState.userInfo.password = value;\n                return prevState\n            });\n        }\n    };\n\n    render() {\n\n        return (\n            <div>\n                {this.state.redirectToReferer? <Redirect to={{pathname: '/index'}}/> : null}\n\n                <div\n                    style={{\n                        position: \"absolute\",\n                        top: \"50%\",\n                        left: '50%',\n                        transform: 'translate(-50%, -50%)',\n                    }}>\n                    <div className=\"card bg-light\" style={{width: '400px', opacity: '0.92'}}>\n                        <article className=\"card-body mx-auto\" style={{maxwidth: '400px'}}>\n                            <h4 className=\"card-title mt-3 text-center\">Log In!</h4>\n                            <form>\n                                <div className=\"form-group input-group\">\n                                    <div className=\"input-group-prepend\">\n                                        <span className=\"input-group-text\"> <i className=\"fa fa-user\"/> </span>\n                                    </div>\n                                    <input\n                                        name=\"email\"\n                                        id=\"email\"\n                                        className=\"form-control\"\n                                        placeholder=\"E-mail\"\n                                        type=\"email\"\n                                        onChange={(event) => this.handleInput(event)}/>\n                                </div>\n                                <div className=\"form-group input-group\">\n                                    <div className=\"input-group-prepend\">\n                                        <span className=\"input-group-text\"> <i className=\"fa fa-envelope\"/> </span>\n                                    </div>\n                                    <input\n                                        name=\"password\"\n                                        id=\"password\"\n                                        className=\"form-control\"\n                                        placeholder=\"Password\"\n                                        type=\"password\"\n                                        onChange={(event) => this.handleInput(event)}/>\n                                </div>\n                                <div className=\"form-group\">\n                                    <button onClick={() => this.login()} type=\"button\" className=\"btn btn-primary btn-block\">Log in</button>\n                                </div>\n                            </form>\n                        </article>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nexport default LoginPage = connect()(LoginPage);\n"]},"metadata":{},"sourceType":"module"}