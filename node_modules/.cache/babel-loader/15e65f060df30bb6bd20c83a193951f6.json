{"ast":null,"code":"import _classCallCheck from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/LoginPage.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { ACCESS_TOKEN } from \"../constraints\";\nimport { userService } from \"../service/userService\";\nimport { connect } from \"react-redux\";\nimport NavLink from \"react-bootstrap/NavLink\";\nimport Login from \"./Login\";\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginPage, _Component);\n\n  function LoginPage(props, context) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props, context));\n\n    _this.login = function () {\n      var dispatch = _this.props.dispatch;\n      dispatch(userService.login(_this.state.userInfo.email, _this.state.userInfo.password));\n      console.log(\"Logged in!\");\n    };\n\n    _this.handleInput = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      if (name === 'email') {\n        _this.setState(function (prevState) {\n          prevState.userInfo.email = value;\n          return prevState;\n        });\n      } else if (name === 'password') {\n        _this.setState(function (prevState) {\n          prevState.userInfo.password = value;\n          return prevState;\n        });\n      }\n    };\n\n    _this.state = {\n      redirectToReferer: false,\n      userInfo: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.state.redirectToReferer ? React.createElement(Redirect, {\n        to: {\n          pathname: '/index'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: '50%',\n          transform: 'translate(-50%, -50%)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Login, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nexport default LoginPage = connect()(LoginPage);","map":{"version":3,"sources":["/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/LoginPage.js"],"names":["React","Component","Redirect","ACCESS_TOKEN","userService","connect","NavLink","Login","LoginPage","props","context","login","dispatch","state","userInfo","email","password","console","log","handleInput","event","target","name","value","setState","prevState","redirectToReferer","pathname","position","top","left","transform"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,YAAR,QAA2B,gBAA3B;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;IAEMC,S;;;;;AAEF,qBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AACxB,mFAAMD,KAAN,EAAaC,OAAb;;AADwB,UAW5BC,KAX4B,GAWpB,YAAM;AAAA,UACHC,QADG,GACU,MAAKH,KADf,CACHG,QADG;AAEVA,MAAAA,QAAQ,CAACR,WAAW,CAACO,KAAZ,CAAkB,MAAKE,KAAL,CAAWC,QAAX,CAAoBC,KAAtC,EAA6C,MAAKF,KAAL,CAAWC,QAAX,CAAoBE,QAAjE,CAAD,CAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,KAf2B;;AAAA,UAiB5BC,WAjB4B,GAiBd,UAACC,KAAD,EAAW;AAAA,0BAECA,KAAK,CAACC,MAFP;AAAA,UAEdC,IAFc,iBAEdA,IAFc;AAAA,UAERC,KAFQ,iBAERA,KAFQ;;AAGrB,UAAID,IAAI,KAAK,OAAb,EAAqB;AACjB,cAAKE,QAAL,CAAc,UAAAC,SAAS,EAAI;AACvBA,UAAAA,SAAS,CAACX,QAAV,CAAmBC,KAAnB,GAA2BQ,KAA3B;AACJ,iBAAOE,SAAP;AACC,SAHD;AAIH,OALD,MAKO,IAAIH,IAAI,KAAK,UAAb,EAAwB;AAC3B,cAAKE,QAAL,CAAc,UAAAC,SAAS,EAAI;AACvBA,UAAAA,SAAS,CAACX,QAAV,CAAmBE,QAAnB,GAA8BO,KAA9B;AACA,iBAAOE,SAAP;AACH,SAHD;AAIH;AACJ,KA/B2B;;AAExB,UAAKZ,KAAL,GAAa;AACTa,MAAAA,iBAAiB,EAAE,KADV;AAETZ,MAAAA,QAAQ,EAAE;AACNC,QAAAA,KAAK,EAAE,EADD;AAENC,QAAAA,QAAQ,EAAE;AAFJ;AAFD,KAAb;AAFwB;AAS3B;;;;6BAwBQ;AAEL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKH,KAAL,CAAWa,iBAAX,GAA8B,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAACC,UAAAA,QAAQ,EAAE;AAAX,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9B,GAAsE,IAD3E,EAEI;AACI,QAAA,KAAK,EAAE;AACHC,UAAAA,QAAQ,EAAE,UADP;AAEHC,UAAAA,GAAG,EAAE,KAFF;AAGHC,UAAAA,IAAI,EAAE,KAHH;AAIHC,UAAAA,SAAS,EAAE;AAJR,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOQ,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPR,CAFJ,CADJ;AAcH;;;;EAnDmB9B,S;;AAwDxB,eAAeO,SAAS,GAAGH,OAAO,GAAGG,SAAH,CAAlC","sourcesContent":["import React, {Component} from \"react\"\nimport {Redirect} from \"react-router-dom\";\nimport {ACCESS_TOKEN} from \"../constraints\";\nimport {userService} from \"../service/userService\";\nimport {connect} from \"react-redux\";\nimport NavLink from \"react-bootstrap/NavLink\";\nimport Login from \"./Login\";\n\nclass LoginPage extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            redirectToReferer: false,\n            userInfo: {\n                email: \"\",\n                password: \"\",\n            }\n        }\n    }\n\n    login = () => {\n        const {dispatch } = this.props;\n        dispatch(userService.login(this.state.userInfo.email, this.state.userInfo.password));\n        console.log(\"Logged in!\");\n    };\n\n    handleInput = (event) => {\n\n        const {name, value} = event.target;\n        if (name === 'email'){\n            this.setState(prevState => {\n                prevState.userInfo.email = value;\n            return prevState\n            });\n        } else if (name === 'password'){\n            this.setState(prevState => {\n                prevState.userInfo.password = value;\n                return prevState\n            });\n        }\n    };\n\n    render() {\n\n        return (\n            <div>\n                {this.state.redirectToReferer? <Redirect to={{pathname: '/index'}}/> : null}\n                <div\n                    style={{\n                        position: \"absolute\",\n                        top: \"50%\",\n                        left: '50%',\n                        transform: 'translate(-50%, -50%)',\n                    }}>\n                        <Login/>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nexport default LoginPage = connect()(LoginPage);\n"]},"metadata":{},"sourceType":"module"}