{"ast":null,"code":"import { TOKEN_SPRING } from \"../constraints\";\nimport { SPRING_URL } from \"../constants\";\nexport var fileService = {\n  upload: upload,\n  download: download\n};\n\nfunction upload(id_conv, image) {\n  var formData = new FormData();\n  formData.append(\"conversationId\", id_conv);\n  formData.append(\"image\", image);\n  return fetch(SPRING_URL + '/api/images', {\n    method: \"post\",\n    headers: {\n      'Authorization': 'Bearer ' + localStorage.getItem(TOKEN_SPRING)\n    },\n    body: formData\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    var path = data.message;\n    return path;\n  });\n}\n\nfunction download(path) {\n  return function (dispatch) {\n    fetch(SPRING_URL + '/api/images?path=' + path, {\n      method: 'get'\n    }).then(function (response) {\n      return response;\n    });\n  };\n}","map":{"version":3,"sources":["/home/przemek/Data/Programowanie/PWr/ZPI/Teache/src/service/fileService.js"],"names":["TOKEN_SPRING","SPRING_URL","fileService","upload","download","id_conv","image","formData","FormData","append","fetch","method","headers","localStorage","getItem","body","then","response","json","data","path","message","dispatch"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,gBAA3B;AACA,SAAQC,UAAR,QAAyB,cAAzB;AAEA,OAAO,IAAMC,WAAW,GAAG;AACvBC,EAAAA,MAAM,EAANA,MADuB;AAEvBC,EAAAA,QAAQ,EAARA;AAFuB,CAApB;;AAKP,SAASD,MAAT,CAAgBE,OAAhB,EAAyBC,KAAzB,EAAgC;AAC5B,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,gBAAhB,EAAkCJ,OAAlC;AACAE,EAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,KAAzB;AAEA,SAAOI,KAAK,CAACT,UAAU,GAAG,aAAd,EAA6B;AACjCU,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACL,uBAAiB,YAAYC,YAAY,CAACC,OAAb,CAAqBd,YAArB;AADxB,KAFwB;AAKjCe,IAAAA,IAAI,EAAER;AAL2B,GAA7B,CAAL,CAOFS,IAPE,CAOG,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAPX,EAQFF,IARE,CAQG,UAAAG,IAAI,EAAI;AACV,QAAMC,IAAI,GAAGD,IAAI,CAACE,OAAlB;AACA,WAAOD,IAAP;AACH,GAXE,CAAP;AAYH;;AAED,SAAShB,QAAT,CAAkBgB,IAAlB,EAAwB;AACpB,SAAO,UAAAE,QAAQ,EAAI;AACfZ,IAAAA,KAAK,CAACT,UAAU,GAAG,mBAAb,GAAmCmB,IAApC,EAA0C;AAC3CT,MAAAA,MAAM,EAAE;AADmC,KAA1C,CAAL,CAGCK,IAHD,CAGM,UAAAC,QAAQ,EAAI;AACd,aAAOA,QAAP;AACH,KALD;AAMH,GAPD;AAQH","sourcesContent":["import {TOKEN_SPRING} from \"../constraints\";\nimport {SPRING_URL} from \"../constants\";\n\nexport const fileService = {\n    upload,\n    download\n};\n\nfunction upload(id_conv, image) {\n    const formData = new FormData();\n    formData.append(\"conversationId\", id_conv);\n    formData.append(\"image\", image);\n\n    return fetch(SPRING_URL + '/api/images', {\n            method: \"post\",\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem(TOKEN_SPRING)\n            },\n            body: formData\n        })\n        .then(response => response.json())\n        .then(data => {\n            const path = data.message\n            return path\n        })\n}\n\nfunction download(path) {\n    return dispatch => {\n        fetch(SPRING_URL + '/api/images?path=' + path, {\n            method: 'get'\n        })\n        .then(response => {\n            return response;\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}