{"ast":null,"code":"import _classCallCheck from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/ChatComponent.js\";\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      width: 30px;\\n      height: 30px;\\n      &:hover {\\n        width: 34px;\\n        height: 34px;\\n      }\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      display: grid;\\n      grid-template-columns: auto repeat(4, 42px);\\n      background-color: rgba(46, 21, 27, 0.9);\\n      align-items: center;\\n      justify-items: center;\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      padding: 10px;\\n      background-color: rgba(255, 243, 230, 0.5);\\n      //opacity: 0.9;\\n      align-items: flex-end;\\n      //display: flex;\\n      //flex-direction: column-reverse;\\n      vertical-align: bottom;\\n      overflow-x: hidden;\\n      overflow-y: scroll;\\n      height: 75vh;\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    background-color: rgba(46, 21, 27, 0.9);\\n    h3 {\\n        text-align: center;\\n        padding-top: 15px;\\n        color: #CFD8DC;\\n    }\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    display: grid;\\n    grid-template-rows: 72px auto 42px;\\n    row-gap: 5px;\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport Photo from '../assets/photo.png';\nimport Send from '../assets/send.png';\nimport File from '../assets/file.png';\nimport SendToken from \"../assets/sendToken.png\";\nimport styled from 'styled-components';\nimport { Messages } from \"../data/Messages\";\nimport { graphql } from 'react-apollo';\nimport { GET_ME, getConversationGql } from '../queries/gql';\nimport * as ReactDOM from \"react-dom\";\nvar Chat = styled.div(_templateObject());\nvar Head = styled.div(_templateObject2());\nvar MessagesContainer = styled.div(_templateObject3());\nvar SendForm = styled.div(_templateObject4());\nvar FormImg = styled.img(_templateObject5());\n\nvar ChatComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatComponent, _Component);\n\n  function ChatComponent() {\n    var _this;\n\n    _classCallCheck(this, ChatComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatComponent).call(this));\n    _this.state = {\n      tokenFormVisible: false\n    };\n    return _this;\n  }\n\n  _createClass(ChatComponent, [{\n    key: \"scrollToBottom\",\n    value: function scrollToBottom() {\n      this.node.scrollTop = this.node.scrollHeight;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var name = this.props.data.conversation ? this.props.data.conversation.name : \"\";\n      return React.createElement(Chat, {\n        id: \"chat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Head, {\n        className: \"chat-head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, name)), React.createElement(MessagesContainer, {\n        ref: function ref(node) {\n          _this2.node = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.props.messages), React.createElement(SendForm, {\n        className: \"send-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.props.inputMessage,\n        type: \"text\",\n        onChange: this.props.onChange,\n        onKeyPress: this.props.onKeyPress,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(FormImg, {\n        src: SendToken,\n        alt: \"sendToken\",\n        onClick: this.props.onSendToken,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(FormImg, {\n        src: Photo,\n        alt: \"uploadPh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(FormImg, {\n        src: File,\n        alt: \"file\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(FormImg, {\n        src: Send,\n        alt: \"send\",\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ChatComponent;\n}(Component);\n\nexport default graphql(getConversationGql, {\n  options: function options(props) {\n    return {\n      variables: {\n        activeConversation: props.conversationID\n      }\n    };\n  }\n})(ChatComponent);","map":{"version":3,"sources":["/home/przemek/Data/Programowanie/PWr/ZPI/Teache/frontend/src/components/ChatComponent.js"],"names":["React","Component","Photo","Send","File","SendToken","styled","Messages","graphql","GET_ME","getConversationGql","ReactDOM","Chat","div","Head","MessagesContainer","SendForm","FormImg","img","ChatComponent","state","tokenFormVisible","node","scrollTop","scrollHeight","scrollToBottom","name","props","data","conversation","messages","inputMessage","onChange","onKeyPress","onSendToken","onClick","options","variables","activeConversation","conversationID"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport Photo from '../assets/photo.png'\nimport Send from '../assets/send.png'\nimport File from '../assets/file.png'\nimport SendToken from \"../assets/sendToken.png\"\nimport styled from 'styled-components'\nimport {Messages} from \"../data/Messages\";\nimport { graphql } from 'react-apollo'\nimport { GET_ME, getConversationGql } from '../queries/gql'\nimport * as ReactDOM from \"react-dom\";\n\nconst Chat = styled.div`\n    display: grid;\n    grid-template-rows: 72px auto 42px;\n    row-gap: 5px;`;\n\nconst Head = styled.div`\n    background-color: rgba(46, 21, 27, 0.9);\n    h3 {\n        text-align: center;\n        padding-top: 15px;\n        color: #CFD8DC;\n    }`;\n\nconst MessagesContainer = styled.div`\n      padding: 10px;\n      background-color: rgba(255, 243, 230, 0.5);\n      //opacity: 0.9;\n      align-items: flex-end;\n      //display: flex;\n      //flex-direction: column-reverse;\n      vertical-align: bottom;\n      overflow-x: hidden;\n      overflow-y: scroll;\n      height: 75vh;`;\n\nconst SendForm = styled.div`\n      display: grid;\n      grid-template-columns: auto repeat(4, 42px);\n      background-color: rgba(46, 21, 27, 0.9);\n      align-items: center;\n      justify-items: center;`;\nconst FormImg = styled.img`\n      width: 30px;\n      height: 30px;\n      &:hover {\n        width: 34px;\n        height: 34px;\n      }`;\n\nclass ChatComponent extends Component {\n\n    constructor() {\n        super()\n\n        this.state = {\n            tokenFormVisible: false\n        }\n    }\n\n    scrollToBottom()\n    {\n        this.node.scrollTop = this.node.scrollHeight;\n    }\n\n    componentDidUpdate() {\n        this.scrollToBottom();\n    }\n\n    render() {\n        const name = this.props.data.conversation ? this.props.data.conversation.name : \"\";\n        return (\n            <Chat id='chat'>\n                <Head className='chat-head'>\n                    <h3>{name}</h3>\n                </Head>\n                <MessagesContainer ref={(node) => {this.node = node;}}>\n                    {/* {Messages(this.props.userId, this.props.handleOver)} */}\n                    {this.props.messages}\n                </MessagesContainer>    \n                <SendForm className='send-form'>\n                    <input\n                        value={this.props.inputMessage}\n                        type='text'\n                        onChange={this.props.onChange}\n                        onKeyPress={this.props.onKeyPress}\n                        className='form-control'/>\n                    <FormImg src={SendToken} alt=\"sendToken\" onClick={this.props.onSendToken} />\n                    <FormImg src={Photo} alt='uploadPh'/>\n                    <FormImg src={File} alt='file'/>\n                    <FormImg src={Send} alt='send'\n                         onClick={this.props.onClick}/>\n                </SendForm>\n\n\n            </Chat>)\n    }\n}\n\n\n\nexport default \n    graphql(getConversationGql, {\n        options: (props) => ({\n            variables: {\n                activeConversation: props.conversationID\n            }\n        })\n    })\n(ChatComponent);\n"]},"metadata":{},"sourceType":"module"}